<div class="wrapper-lg" ng-controller="customersCtrl" ng-init="$root.getCustomers()">
    <div ng-if="items">
        <div class="panel panel-default">
            <div class="panel-heading">
                <form novalidate>
                    <div class="row">
                        <div class="col-xs-12 col-md-6">
                            <div class="form-group">
                                <label for="searchBox">Search</label>
                                <input type="text" class="form-control" id="searchBox" ng-model="$root.search.$" ng-change="$root.filter()" placeholder="Type to search">
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-6">
                            <div class="form-group">
                                <label for="_statusFilter">Choose Status</label>
                                <select class="form-control" name="_statusFilter" id="_statusFilter" ng-model="$root.search.status" ng-change="$root.filter()">
                                    <option value="" disabled selected style="display: none;">All</option>
                                    <option value="New">New</option>
                                    <option value="InProgress">InProgress</option>
                                    <option value="OrderPlaced">OrderPlaced</option>
                                    <option value="Support">Support</option>
                                    <option value="Cancelled">Cancelled</option>
                                    <option value="Rejected">Rejected</option>
                                </select>
                            </div>
                            {{statusType}}
                        </div>
                    </div>
                </form>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-xs-12">
                        <table footable class="table m-b-none" data-value="items" data-page-size="5">
                            <thead>
                                <tr>
                                    <th data-toggle="true">
                                        Customer Name
                                    </th>
                                    <th data-hide="phone">
                                        Customer ID
                                    </th>
                                    <th data-hide="phone">
                                        Product Name
                                    </th>
                                    <th>
                                        Status
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="item in items track by item.id" row-selector ng-click="selectItem(item)">
                                    <td>
                                        {{item.customername}}
                                    </td>
                                    <td>
                                        {{item.id}}
                                    </td>
                                    <td>
                                        {{item.productname}}
                                    </td>
                                    <td>
                                        {{item.status}}
                                    </td>
                                </tr>
                            </tbody>
                            <tfoot class="hide-if-no-paging">
                                <tr>
                                    <td colspan="6" class="text-left">
                                        <ul class="pagination"></ul>
                                    </td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
        </div>        
    </div>    
    <div ng-if="!customerDetail">
        <div class="alert alert-info">
            <span>Select a costumer to see detail</span>
        </div>
    </div>
    <div ng-if="customerDetail">
        <div ng-include="'tpl/customers/customer_detail.html'"></div>
    </div>
</div>